// Generated by CoffeeScript 1.4.0
(function() {

  $(function() {
    var $form, $identifier, $service, destroyService, doService, parseFormData, services, setIdentifer;
    $form = $('form.remindergram');
    $service = $('#service');
    $identifier = $('#identifier');
    services = {
      'Instagram': 'Username',
      'WordPress': 'Blog address',
      'RSS': 'Feed address'
    };
    $service.on('keyup', function(event) {
      var $val;
      $val = $(event.target).val();
      if (services.hasOwnProperty($val)) {
        return doService($val);
      } else {
        return destroyService();
      }
    });
    doService = function(name) {
      return setIdentifer(services[name]);
    };
    destroyService = function() {
      return setIdentifer('');
    };
    setIdentifer = function(placeholder) {
      return $identifier.attr('placeholder', placeholder);
    };
    $form.on('submit', function(event) {
      var data;
      event.preventDefault();
      data = parseFormData($form);
      return $.post($form.attr('action'), data, function(data) {
        return console.log(data);
      });
    });
    return parseFormData = function($form) {
      return _.reduce($form.serializeArray(), function(data, pair) {
        data[pair.name] = pair.value;
        return data;
      }, {});
    };
  });

}).call(this);
